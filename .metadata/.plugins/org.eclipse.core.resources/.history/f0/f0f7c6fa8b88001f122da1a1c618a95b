/*
 * SistemYapilandirici.cpp
 *
 *  Created on: Oct 12, 2024
 *      Author: m_yas
 */

#include <SistemYapilandirici.h>
#include <GPS.h>
/**
 * @brief SistemYapilandirici constructor
 */

 SistemYapilandirici::SistemYapilandirici()
{
	 Instance();
	islevBaslat();
}



/**
 * @brief SistemYapilandirici deconstructor
 */
 SistemYapilandirici::~SistemYapilandirici()
{
	}

 /**
  * @brief SistemYapilandirici deconstructor
  */
void SistemYapilandirici::Instance()
 {
	  GPS m_GPS;
 	}

/**
 * @brief Sistemde olan tasklari baslatir
 */
void SistemYapilandirici::islevBaslat()
{

	  /* definition and creation of GPStask */
	osThreadId GPStaskHandle;
	  osThreadDef(GPStask, vGPStask, osPriorityHigh, 0, 128);
	  GPStaskHandle = osThreadCreate(osThread(GPStask), NULL);
	    // Check if the task was created successfully
	    if (GPStaskHandle == NULL) {
	        // Handle the error
	    }

	  /* definition and creation of IMUtask */
	  osThreadDef(IMUtask, vIMUtask, osPriorityHigh, 0, 128);
	  IMUtaskHandle = osThreadCreate(osThread(IMUtask), NULL);

	  /* definition and creation of GKAtask */
	  osThreadDef(GKAtask, vGKAtask, osPriorityNormal, 0, 128);
	  GKAtaskHandle = osThreadCreate(osThread(GKAtask), NULL);


	HAL_GPIO_WritePin(LD1_GPIO_Port, LD1_Pin,GPIO_PIN_SET);


	}
